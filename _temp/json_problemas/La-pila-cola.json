{"statement":{"language":"es","images":[],"sources":[],"markdown":"# Descripci\u00f3n\nEn tu curso de programaci\u00f3n aprendiste que una pila es una estructura de datos que permite agregar y quitar elementos por el mismo extremo (en este caso, agregar o quitar elementos por atr\u00e1s) y que una cola es una estructura de datos que permite agregar elementos por atr\u00e1s y quitarlos por el frente. Como siempre has sido muy creativo, acabas de inventar la *pila-cola*, la cual es una estructura de datos que comienza comport\u00e1ndose como una pila, pero que puede cambiar su comportamiento al de una cola. Para present\u00e1rsela a tus amigos, deseas escribir un programa que procese una secuencia de $N$ eventos sobre una *pila-cola*:\n\nLos eventos que procesar\u00e1s pueden ser de tres tipos:\n\n - `AGREGA` $v$: Agrega el entero $v$ a la *pila-cola*.\n - `QUITA`: Saca un elemento de la *pila-cola* e imprime su valor.\n - `CAMBIA`: Cambia el comportamiento de la *pila-cola* (si se comportaba como pila ahora ser\u00e1 una cola, y viceversa). Los elementos insertados permanecen como est\u00e1n; el cambio s\u00f3lo afecta lo que ocurra en eventos posteriores.\n\n# Entrada\nUn entero $N$ seguido de $N$ eventos. Puedes suponer que $1 \\leq N \\leq 10^5$ y que los valores de los elementos a insertar est\u00e1n en el rango de $-1000$ a $+1000$.\n\n# Salida\nPara cada evento `QUITA`, el valor del elemento extra\u00eddo.\n\n# Ejemplo\n||input\n9\nAGREGA 1\nAGREGA 2\nAGREGA 3\nQUITA\nCAMBIA\nAGREGA 4\nAGREGA 5\nAGREGA 6\nQUITA\n||output\n3\n1\n||description\nInicialmente, la estructura es una pila.\n\nAgregar el 1 deja la estructura como (1).\n\nAgregar el 2 deja la estructura como (1, 2).\n\nAgregar el 3 deja la estructura como (1, 2, 3).\n\nAl quitar de la pila, sale el 3 y deja la estructura como (1, 2).\n\nAhora la estructura es una cola.\n\nAgregar el 4 deja la estructura como (1, 2, 4).\n\nAgregar el 5 deja la estructura como (1, 2, 4, 5).\n\nAgregar el 6 deja la estructura como (1, 2, 4, 5, 6).\n\nAl quitar de la cola, sale el 1 y deja la estructura como (2, 4, 5, 6).\n||end\n"},"settings":{"cases":{"statement_001":{"in":"9\nAGREGA 1\nAGREGA 2\nAGREGA 3\nQUITA\nCAMBIA\nAGREGA 4\nAGREGA 5\nAGREGA 6\nQUITA","out":"3\n1","weight":1}},"limits":{"ExtraWallTime":"0s","MemoryLimit":33554432,"OutputLimit":262144,"OverallWallTimeLimit":"1m0s","TimeLimit":"1s"},"validator":{"name":"token","tolerance":1.0e-9}},"problem_id":13387,"title":"La pila-cola","alias":"La-pila-cola","input_limit":10240,"visits":0,"submissions":44,"accepted":18,"difficulty":null,"creation_date":1622763052,"source":"UAM Azcapotzalco 2021","order":"normal","visibility":2,"email_clarifications":false,"allow_user_add_tags":false,"show_diff":"none","quality_seal":false,"version":"9d56e401ea2badbd042385206440f7272a035950","commit":"687f34068916e9abf6aefaf74c07bdf8f64eda4b","nominationStatus":{"alreadyReviewed":false,"dismissed":false,"dismissedBeforeAc":false,"nominated":false,"nominatedBeforeAc":false,"language":"","canNominateProblem":false,"solved":false,"tried":false},"problemsetter":{"username":"rcc","classname":"user-rank-international-master","name":"rcc","creation_date":1622763052},"languages":["c11-gcc","c11-clang","cpp11-gcc","cpp11-clang","cpp17-gcc","cpp17-clang","java","py2","py3","rb","cs","pas","hs","lua"],"accepts_submissions":true,"karel_problem":false,"limits":{"input_limit":"10 KiB","memory_limit":"32 MiB","overall_wall_time_limit":"1m0s","time_limit":"1s"},"points":23.54,"score":0,"status":"ok","_id":"6186d3a299762947819108"}