{"statement":{"language":"es","images":[],"sources":[],"markdown":"# Descripci\u00f3n\nEn tu casa vive un fantasma y quieres volverte famoso mostr\u00e1ndolo al mundo. Para lograr lo anterior, has invitado a un famoso investigador de lo paranormal para que venga a tomar fotos del fantasma, tarea que ser\u00eda muy dif\u00edcil de no ser porque el fantasma sigue una rutina bien establecida. Justo a las 11:11 p.m. el fantasma aparece y empieza a teletransportarse entre cuartos de la casa. Cuando el fantasma visita el \u00faltimo cuarto de su rutina, desaparece. Ya que llevas muchos a\u00f1os viviendo en esa casa, conoces el orden exacto en el que el fantasma visitar\u00e1 los cuartos. Tu objetivo ser\u00e1 planear el recorrido que le dar\u00e1s al investigador para que logre tomar la mayor cantidad de fotos del fantasma.\n\nTu casa est\u00e1 descrita por $N$ cuartos o v\u00e9rtices numerados de $0$ a $N - 1$ y por $M$ aristas o pasillos de doble sentido. Tu posici\u00f3n inicial es el v\u00e9rtice $0$ y te toma un minuto moverte por una arista para llegar a otro v\u00e9rtice. El fantasma tarda un minuto en teletransportarse y puedes optar por no cambiar de v\u00e9rtice si sabes que el fantasma llegar\u00e1 a donde t\u00fa est\u00e1s. Escribe un programa que calcule la mayor cantidad de fotos que es posible tomarle al fantasma.\n\n# Entrada\nLos enteros $N, M$ seguidos de $M$ parejas de enteros que denotan los v\u00e9rtices unidos por cada una de las $M$ aristas. Posteriormente un entero $F$ seguido de $F$ enteros $p_0, p_1, \\dots, p_{F-1}$ donde $p_i$ denota el v\u00e9rtice donde aparecer\u00e1 el fantasma al minuto $i$. Puedes suponer que $0 \\leq N, F \\leq 1,000$ y $0 \\leq M \\leq 10,000$.\n\n# Salida\nUn entero que sea la mayor cantidad de fotos que es posible tomarle al fantasma.\n\n# Ejemplo\n||input\n5 4\n0 1\n0 2\n0 4\n1 3\n5\n1 4 3 0 2\n||output\n3\n||description\nNo puedes ver al fantasma al minuto 0 porque aparece en un cuarto distinto de donde tu inicias. Puedes ver al fantasma en el v\u00e9rtice 4 al minuto 1, luego regresar al v\u00e9rtice 0 y esperar para verlo al minuto 3 y seguirlo hacia el v\u00e9rtice 2 para verlo al minuto 4.\n||end\n"},"settings":{"cases":{"statement_001":{"in":"5 4\n0 1\n0 2\n0 4\n1 3\n5\n1 4 3 0 2","out":"3","weight":1}},"limits":{"ExtraWallTime":"0s","MemoryLimit":33554432,"OutputLimit":16384,"OverallWallTimeLimit":"1m0s","TimeLimit":"1s"},"validator":{"name":"token-caseless"}},"problem_id":5778,"title":"Fotografiando al fantasma","alias":"Fotografiando-al-fantasma","input_limit":10240,"visits":0,"submissions":76,"accepted":6,"difficulty":null,"creation_date":1507089099,"source":"UAM Azcapotzalco 2017","order":"normal","visibility":2,"email_clarifications":false,"allow_user_add_tags":true,"show_diff":"none","quality_seal":true,"version":"9b80f02e0880e1e7c35f95148411aa305f608630","commit":"efa7592a6df50fc4c5444bd22d92072414e02833","nominationStatus":{"alreadyReviewed":false,"dismissed":false,"dismissedBeforeAc":false,"nominated":false,"nominatedBeforeAc":false,"language":"","canNominateProblem":false,"solved":false,"tried":false},"problemsetter":{"username":"rcc","classname":"user-rank-international-master","name":"rcc","creation_date":1507089099},"languages":["c11-gcc","c11-clang","cpp11-gcc","cpp11-clang","cpp17-gcc","cpp17-clang","java","py2","py3","rb","cs","pas","hs","lua"],"accepts_submissions":true,"karel_problem":false,"limits":{"input_limit":"10 KiB","memory_limit":"32 MiB","overall_wall_time_limit":"1m0s","time_limit":"1s"},"points":35.62,"score":0,"status":"ok","_id":"6186d39a9272f237304262"}