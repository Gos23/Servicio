{"statement":{"language":"es","images":[],"sources":[],"markdown":"# Descripci\u00f3n\nEres un fan\u00e1tico de las cadenas de longitud $L$ y finalmente has decidido comenzar tu colecci\u00f3n, pero para que \u00e9sta se preserve para la posteridad, deseas almacenarla en un archivo. Para poder identificar tus cadenas m\u00e1s f\u00e1cilmente, cada nueva cadena de tu colecci\u00f3n recibir\u00e1 un identificador num\u00e9rico \u00fanico e incremental (de modo que la primera cadena de tu colecci\u00f3n ser\u00e1 la cadena $0$, la siguiente ser\u00e1 la cadena $1$ y as\u00ed sucesivamente). Sin embargo, sabes que eres muy impulsivo y en ocasiones agregar\u00e1s cadenas a tu colecci\u00f3n que despu\u00e9s ya no te gustar\u00e1n, por lo que tambi\u00e9n deseas poder borrarlas.\n\nPara esto, cada cadena $S$ de tu colecci\u00f3n aparecer\u00e1 en el archivo con el formato $+IS_1S_2 \\dots S_{L}$ donde $I$ es el identificador num\u00e9rico de tu cadena a cuatro d\u00edgitos (por ejemplo, el identificador $0$ aparecer\u00e1 como $0000$ mientras que el identificador $123$ aparecer\u00e1 como $0123$. Has decidido tambi\u00e9n que la operaci\u00f3n para borrar una cadena debe ser sumamente eficiente, por lo que la \u00fanica modificaci\u00f3n que realizar\u00e1s en el archivo es cambiar el s\u00edmbolo inicial del registro de $+$ a $-$ (es decir, el registro de una cadena existente $+IS_1S_2 \\dots S_{L}$ pasar\u00e1 a verse como $-IS_1S_2 \\dots S_{L}$ al borrar la cadena). Por otra parte y para que evitar que el archivo crezca demasiado, reutilizar\u00e1s el espacio de las cadenas que ya borraste al insertar nuevas cadenas. En caso de que haya varias cadenas borradas, preferir\u00e1s reutilizar el espacio de la que borraste primero. Si no hay espacio por reutilizar entonces tu nueva cadena se agregar\u00e1 al final del archivo. Finalmente, has decidido que los identificadores num\u00e9ricos no los reciclar\u00e1s: la $I$-\u00e9sima cadena insertada tendr\u00e1 identificador num\u00e9rico $I$ a\u00fan si varias cadenas previas fueron borradas.\n\nEscribe un programa que mantenga y actualice tu colecci\u00f3n de cadenas.\n\n# Entrada\nDos enteros $N$ y $L$ seguidos de una secuencia de $N$ eventos, uno por l\u00ednea. Un evento del tipo `A` $S$ corresponde con la inserci\u00f3n de la cadena $S$ (el identificador num\u00e9rico de la cadena debe calcularse autom\u00e1ticamente). Un evento del tipo `B` $I$ corresponde con el borrado de la cadena con identificador $I$. Puedes suponer que $0 \\leq N \\leq 1,000$, que $1 \\leq L \\leq 10,000$, que la cadena $I$ en un evento de borrado est\u00e1 en ese momento en la colecci\u00f3n y que todas las cadenas est\u00e1n formadas por caracteres ASCII gr\u00e1ficos.\n\n# Salida\nEl contenido del archivo despu\u00e9s de los $N$ eventos.\n\n# Nota\nYa que OmegaUp vincula la salida est\u00e1ndar a un archivo, un programa podr\u00e1 modificar su salida utilizando rutinas de posicionamiento en archivos (por ejemplo, *fseek* o *rewind*) sobre *stdout* o equivalente.\n\n# Ejemplo\n||input\n9 3\nA glh\nA xyz\nB 1\nB 0\nA olm\nA smg\nA hwt\nB 3\nB 4\n||output\n-0003smg+0002olm-0004hwt\n||end\n"},"settings":{"cases":{"statement_001":{"in":"9 3\nA glh\nA xyz\nB 1\nB 0\nA olm\nA smg\nA hwt\nB 3\nB 4","out":"-0003smg+0002olm-0004hwt","weight":1}},"limits":{"ExtraWallTime":"0s","MemoryLimit":3670016,"OutputLimit":3596288,"OverallWallTimeLimit":"1m0s","TimeLimit":"100ms"},"validator":{"name":"token"}},"problem_id":6641,"title":"Inserci\u00f3n y borrado de registros","alias":"Insercion-y-borrado-de-registro","input_limit":10240,"visits":0,"submissions":259,"accepted":43,"difficulty":1.787162276712011,"creation_date":1521060515,"source":"UAM Azcapotzalco 2018","order":"normal","visibility":2,"email_clarifications":false,"allow_user_add_tags":false,"show_diff":"none","quality_seal":true,"version":"905c65b55f0c46ef329593ca0bc121e17e911faa","commit":"72489d11544f4de1608c5eb959d13e9bb6163c02","nominationStatus":{"alreadyReviewed":false,"dismissed":false,"dismissedBeforeAc":false,"nominated":false,"nominatedBeforeAc":false,"language":"","canNominateProblem":false,"solved":false,"tried":false},"problemsetter":{"username":"rcc","classname":"user-rank-international-master","name":"rcc","creation_date":1521060515},"languages":["c11-gcc","c11-clang","cpp11-gcc","cpp11-clang","cpp17-gcc","cpp17-clang","java","py2","py3","rb","cs","pas","hs","lua"],"accepts_submissions":true,"karel_problem":false,"limits":{"input_limit":"10 KiB","memory_limit":"3.5 MiB","overall_wall_time_limit":"1m0s","time_limit":"100ms"},"points":18.32,"score":0,"status":"ok","_id":"6186d39bd74fd991268487"}